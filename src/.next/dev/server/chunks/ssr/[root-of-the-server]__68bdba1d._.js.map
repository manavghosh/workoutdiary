{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///C:/Agentic-AI/Udemy-ClaudeCode/workoutdiary/db/schema.ts"],"sourcesContent":["import {\n  pgTable,\n  text,\n  integer,\n  decimal,\n  timestamp,\n  pgEnum,\n  uuid,\n} from 'drizzle-orm/pg-core';\n\nexport const exerciseCategoryEnum = pgEnum('exercise_category', [\n  'strength',\n  'cardio',\n  'flexibility',\n  'sports',\n]);\n\n// Exercises table - master exercise library\nexport const exercises = pgTable('exercises', {\n  id: uuid('id').primaryKey().notNull().defaultRandom(),\n  name: text('name').notNull(),\n  category: exerciseCategoryEnum('category').notNull(),\n  description: text('description'),\n  createdBy: text('created_by'),\n  createdAt: timestamp('created_at').defaultNow().notNull(),\n});\n\n// Workouts table - workout sessions\nexport const workouts = pgTable('workouts', {\n  id: uuid('id').primaryKey().notNull().defaultRandom(),\n  userId: text('user_id').notNull(),\n  title: text('title').notNull(),\n  notes: text('notes'),\n  durationMinutes: integer('duration_minutes'),\n  startedAt: timestamp('started_at').defaultNow().notNull(),\n  completedAt: timestamp('completed_at'),\n});\n\n// Workout Exercises junction table - links workouts to exercises\nexport const workoutExercises = pgTable('workout_exercises', {\n  id: uuid('id').primaryKey().notNull().defaultRandom(),\n  workoutId: uuid('workout_id')\n    .notNull()\n    .references(() => workouts.id, { onDelete: 'cascade' }),\n  exerciseId: uuid('exercise_id')\n    .notNull()\n    .references(() => exercises.id),\n  order: integer('order').notNull(),\n  restSeconds: integer('rest_seconds'),\n});\n\n// Exercise Sets table - individual sets for each exercise\nexport const exerciseSets = pgTable('exercise_sets', {\n  id: uuid('id').primaryKey().notNull().defaultRandom(),\n  workoutExerciseId: uuid('workout_exercise_id')\n    .notNull()\n    .references(() => workoutExercises.id, { onDelete: 'cascade' }),\n  setNumber: integer('set_number').notNull(),\n  // Strength exercise fields\n  weightLbs: decimal('weight_lbs', { precision: 8, scale: 2 }),\n  reps: integer('reps'),\n  // Cardio exercise fields\n  durationSeconds: integer('duration_seconds'),\n  distanceMiles: decimal('distance_miles', { precision: 8, scale: 2 }),\n  notes: text('notes'),\n});\n\n// Export types for TypeScript usage\nexport type Exercise = typeof exercises.$inferSelect;\nexport type NewExercise = typeof exercises.$inferInsert;\n// Basic workout type for simplified dashboard\nexport type Workout = typeof workouts.$inferSelect;\nexport type NewWorkout = typeof workouts.$inferInsert;\nexport type WorkoutExercise = typeof workoutExercises.$inferSelect;\nexport type NewWorkoutExercise = typeof workoutExercises.$inferInsert;\nexport type ExerciseSet = typeof exerciseSets.$inferSelect;\nexport type NewExerciseSet = typeof exerciseSets.$inferInsert;"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUO,MAAM,uBAAuB,IAAA,yKAAM,EAAC,qBAAqB;IAC9D;IACA;IACA;IACA;CACD;AAGM,MAAM,YAAY,IAAA,gKAAO,EAAC,aAAa;IAC5C,IAAI,IAAA,uKAAI,EAAC,MAAM,UAAU,GAAG,OAAO,GAAG,aAAa;IACnD,MAAM,IAAA,uKAAI,EAAC,QAAQ,OAAO;IAC1B,UAAU,qBAAqB,YAAY,OAAO;IAClD,aAAa,IAAA,uKAAI,EAAC;IAClB,WAAW,IAAA,uKAAI,EAAC;IAChB,WAAW,IAAA,iLAAS,EAAC,cAAc,UAAU,GAAG,OAAO;AACzD;AAGO,MAAM,WAAW,IAAA,gKAAO,EAAC,YAAY;IAC1C,IAAI,IAAA,uKAAI,EAAC,MAAM,UAAU,GAAG,OAAO,GAAG,aAAa;IACnD,QAAQ,IAAA,uKAAI,EAAC,WAAW,OAAO;IAC/B,OAAO,IAAA,uKAAI,EAAC,SAAS,OAAO;IAC5B,OAAO,IAAA,uKAAI,EAAC;IACZ,iBAAiB,IAAA,6KAAO,EAAC;IACzB,WAAW,IAAA,iLAAS,EAAC,cAAc,UAAU,GAAG,OAAO;IACvD,aAAa,IAAA,iLAAS,EAAC;AACzB;AAGO,MAAM,mBAAmB,IAAA,gKAAO,EAAC,qBAAqB;IAC3D,IAAI,IAAA,uKAAI,EAAC,MAAM,UAAU,GAAG,OAAO,GAAG,aAAa;IACnD,WAAW,IAAA,uKAAI,EAAC,cACb,OAAO,GACP,UAAU,CAAC,IAAM,SAAS,EAAE,EAAE;QAAE,UAAU;IAAU;IACvD,YAAY,IAAA,uKAAI,EAAC,eACd,OAAO,GACP,UAAU,CAAC,IAAM,UAAU,EAAE;IAChC,OAAO,IAAA,6KAAO,EAAC,SAAS,OAAO;IAC/B,aAAa,IAAA,6KAAO,EAAC;AACvB;AAGO,MAAM,eAAe,IAAA,gKAAO,EAAC,iBAAiB;IACnD,IAAI,IAAA,uKAAI,EAAC,MAAM,UAAU,GAAG,OAAO,GAAG,aAAa;IACnD,mBAAmB,IAAA,uKAAI,EAAC,uBACrB,OAAO,GACP,UAAU,CAAC,IAAM,iBAAiB,EAAE,EAAE;QAAE,UAAU;IAAU;IAC/D,WAAW,IAAA,6KAAO,EAAC,cAAc,OAAO;IACxC,2BAA2B;IAC3B,WAAW,IAAA,6KAAO,EAAC,cAAc;QAAE,WAAW;QAAG,OAAO;IAAE;IAC1D,MAAM,IAAA,6KAAO,EAAC;IACd,yBAAyB;IACzB,iBAAiB,IAAA,6KAAO,EAAC;IACzB,eAAe,IAAA,6KAAO,EAAC,kBAAkB;QAAE,WAAW;QAAG,OAAO;IAAE;IAClE,OAAO,IAAA,uKAAI,EAAC;AACd"}},
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///C:/Agentic-AI/Udemy-ClaudeCode/workoutdiary/lib/db.ts"],"sourcesContent":["import { drizzle } from 'drizzle-orm/neon-http'\nimport { neon } from '@neondatabase/serverless'\nimport * as schema from '../db/schema'\n\nexport const db = drizzle(neon(process.env.DATABASE_URL!), { schema })\n\n// Re-export types from schema for convenience\nexport type {\n  Workout,\n  NewWorkout,\n  WorkoutExercise,\n  NewWorkoutExercise,\n  Exercise,\n  NewExercise,\n  ExerciseSet,\n  NewExerciseSet\n} from '../db/schema'\n\n// Export schema tables\nexport {\n  workouts,\n  workoutExercises,\n  exercises,\n  exerciseSets,\n  exerciseCategoryEnum\n} from '../db/schema'"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,MAAM,KAAK,IAAA,mKAAO,EAAC,IAAA,8JAAI,EAAC,QAAQ,GAAG,CAAC,YAAY,GAAI;IAAE,QAAA;AAAO"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/Agentic-AI/Udemy-ClaudeCode/workoutdiary/data/exercises.ts"],"sourcesContent":["import { db } from '@/lib/db'\nimport { exercises } from '@/lib/db'\nimport { eq } from 'drizzle-orm'\nimport { sql } from 'drizzle-orm'\nimport type { Exercise } from '@/lib/db'\n\ntype ExerciseCategory = 'strength' | 'cardio' | 'flexibility' | 'sports'\n\n// Prepared statement for getting exercise by ID\nconst getExerciseByIdStmt = db\n  .select()\n  .from(exercises)\n  .where(eq(exercises.id, sql.placeholder('exerciseId')))\n  .limit(1)\n  .prepare('getExerciseById')\n\nexport async function getExerciseById(exerciseId: string) {\n  const exercise = await getExerciseByIdStmt.execute({ exerciseId })\n\n  return exercise.length > 0 ? exercise[0] : null\n}\n\n// Cached result for all exercises since this is a master library that rarely changes\nlet allExercisesCache: Exercise[] | null = null\nlet cacheTimestamp: number | null = null\nconst CACHE_TTL = 5 * 60 * 1000 // 5 minutes\n\nexport async function getAllExercises() {\n  // Note: This function returns all exercises from the master exercise library\n  // User-specific filtering happens at the workout level\n\n  // Return cached result if still valid\n  const now = Date.now()\n  if (allExercisesCache && cacheTimestamp && (now - cacheTimestamp) < CACHE_TTL) {\n    return allExercisesCache\n  }\n\n  // Fresh fetch\n  const allExercises = await db.select().from(exercises)\n\n  // Update cache\n  allExercisesCache = allExercises\n  cacheTimestamp = now\n\n  return allExercises\n}\n\n// Prepared statement for getting exercises by category\nconst getExercisesByCategoryStmt = db\n  .select()\n  .from(exercises)\n  .where(eq(exercises.category, sql.placeholder('category')))\n  .prepare('getExercisesByCategory')\n\nexport async function getExercisesByCategory(category: ExerciseCategory) {\n  const categoryExercises = await getExercisesByCategoryStmt.execute({ category })\n\n  return categoryExercises\n}"],"names":[],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;;;;;AAKA,gDAAgD;AAChD,MAAM,sBAAsB,+HAAE,CAC3B,MAAM,GACN,IAAI,CAAC,yHAAS,EACd,KAAK,CAAC,IAAA,wKAAE,EAAC,yHAAS,CAAC,EAAE,EAAE,mJAAG,CAAC,WAAW,CAAC,gBACvC,KAAK,CAAC,GACN,OAAO,CAAC;AAEJ,eAAe,gBAAgB,UAAkB;IACtD,MAAM,WAAW,MAAM,oBAAoB,OAAO,CAAC;QAAE;IAAW;IAEhE,OAAO,SAAS,MAAM,GAAG,IAAI,QAAQ,CAAC,EAAE,GAAG;AAC7C;AAEA,qFAAqF;AACrF,IAAI,oBAAuC;AAC3C,IAAI,iBAAgC;AACpC,MAAM,YAAY,IAAI,KAAK,KAAK,YAAY;;AAErC,eAAe;IACpB,6EAA6E;IAC7E,uDAAuD;IAEvD,sCAAsC;IACtC,MAAM,MAAM,KAAK,GAAG;IACpB,IAAI,qBAAqB,kBAAkB,AAAC,MAAM,iBAAkB,WAAW;QAC7E,OAAO;IACT;IAEA,cAAc;IACd,MAAM,eAAe,MAAM,+HAAE,CAAC,MAAM,GAAG,IAAI,CAAC,yHAAS;IAErD,eAAe;IACf,oBAAoB;IACpB,iBAAiB;IAEjB,OAAO;AACT;AAEA,uDAAuD;AACvD,MAAM,6BAA6B,+HAAE,CAClC,MAAM,GACN,IAAI,CAAC,yHAAS,EACd,KAAK,CAAC,IAAA,wKAAE,EAAC,yHAAS,CAAC,QAAQ,EAAE,mJAAG,CAAC,WAAW,CAAC,cAC7C,OAAO,CAAC;AAEJ,eAAe,uBAAuB,QAA0B;IACrE,MAAM,oBAAoB,MAAM,2BAA2B,OAAO,CAAC;QAAE;IAAS;IAE9E,OAAO;AACT"}},
    {"offset": {"line": 168, "column": 0}, "map": {"version":3,"sources":["file:///C:/Agentic-AI/Udemy-ClaudeCode/workoutdiary/app/workout/new/NewWorkoutClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/workout/new/NewWorkoutClient.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/workout/new/NewWorkoutClient.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwS,GACrU,sEACA","ignoreList":[0]}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file:///C:/Agentic-AI/Udemy-ClaudeCode/workoutdiary/app/workout/new/NewWorkoutClient.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/workout/new/NewWorkoutClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/workout/new/NewWorkoutClient.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoR,GACjT,kDACA","ignoreList":[0]}},
    {"offset": {"line": 196, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///C:/Agentic-AI/Udemy-ClaudeCode/workoutdiary/app/workout/new/page.tsx"],"sourcesContent":["import { auth } from \"@clerk/nextjs/server\";\nimport { redirect } from \"next/navigation\";\nimport { getAllExercises } from \"@/data/exercises\";\nimport NewWorkoutClient from \"./NewWorkoutClient\";\n\nexport default async function NewWorkoutPage() {\n  const { userId } = await auth();\n\n  if (!userId) {\n    redirect(\"/\");\n  }\n\n  // Get all exercises for the selection interface\n  const exercises = await getAllExercises();\n\n  return <NewWorkoutClient userId={userId} exercises={exercises} />;\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AAAA;AACA;AACA;;;;;;AAEe,eAAe;IAC5B,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,IAAA,2LAAI;IAE7B,IAAI,CAAC,QAAQ;QACX,IAAA,iMAAQ,EAAC;IACX;IAEA,gDAAgD;IAChD,MAAM,YAAY,MAAM,IAAA,oIAAe;IAEvC,qBAAO,8OAAC,qJAAgB;QAAC,QAAQ;QAAQ,WAAW;;;;;;AACtD"}}]
}