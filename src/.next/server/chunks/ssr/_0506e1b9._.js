module.exports=[27607,a=>{"use strict";var b=a.i(37936);a.i(44721);var c=a.i(5246);async function d(){(await (0,c.cookies)()).delete(`__clerk_invalidate_cache_cookie_${Date.now()}`)}(0,a.i(13095).ensureServerEntryExports)([d]),(0,b.registerServerReference)(d,"7f8a5d76e826325ce7dd010842a67756b2cddddf7e",null),a.s(["invalidateCacheAction",()=>d])},1659,a=>{"use strict";var b=a.i(26022),c=a.i(27607),d=a.i(85978),e=a.i(37936),f=a.i(53112),g=a.i(63436),h=a.i(5072),i=a.i(12208),j=a.i(13095);let k=f.z.object({title:f.z.string().min(1,"Title is required").max(100),notes:f.z.string().optional(),startTime:f.z.string().optional(),workoutDate:f.z.string().min(1,"Date is required")});async function l(a){console.log("Action called with data:",a);try{let b,c=k.parse(a);console.log("Validation passed:",c);let{userId:d}=await (0,h.auth)();if(console.log("User ID:",d),!d)throw Error("User not authenticated");if(c.startTime){let[a,d]=c.startTime.split(":"),[e,f,g]=c.workoutDate.split("-").map(Number);b=new Date(e,f-1,g,parseInt(a),parseInt(d),0,0),console.log("Local timezone components:",{year:e,month:f,day:g,hours:a,minutes:d}),console.log("Created local datetime:",b),console.log("Local datetime ISO:",b.toISOString())}else{let[a,d,e]=c.workoutDate.split("-").map(Number);b=new Date(a,d-1,e,12,0,0,0),console.log("Local date with default time:",b),console.log("Local datetime ISO:",b.toISOString())}console.log("Final datetime for DB (preserves local timezone):",b.toISOString());let e=await (0,g.createWorkout)({userId:d,title:c.title,notes:c.notes,startedAt:b});console.log("Workout created:",e),console.log("Workout startedAt date:",e.startedAt);let f=(0,i.format)(e.startedAt,"yyyy-MM-dd");return console.log("Formatted redirect date:",f),{success:!0,workout:e,redirectDate:f}}catch(b){if(console.error("Error in createWorkoutAction:",b),b instanceof f.z.ZodError)throw console.error("Zod errors:",b.issues),Error(b.issues[0]?.message||"Validation error");let a=b instanceof Error?b.message:"Unknown error";throw console.error("Error message:",a),Error(`Failed to create workout: ${a}`)}}(0,j.ensureServerEntryExports)([l]),(0,e.registerServerReference)(l,"40cbe8cf1b11d76f18bad4722112aaec74dc93ab6c",null),a.s([],95050),a.i(95050),a.s(["40cbe8cf1b11d76f18bad4722112aaec74dc93ab6c",()=>l,"7f00aa33224ad7f5625ae15d101f59bc64b153d43b",()=>b.detectKeylessEnvDriftAction,"7f5041eb519a7fba49dd2f9549f0a73f36bc2d4bfa",()=>b.deleteKeylessAction,"7f8a5d76e826325ce7dd010842a67756b2cddddf7e",()=>c.invalidateCacheAction,"7f9a14fcdd8e4bdc58ad32c320e379d85f1acf6501",()=>b.createOrReadKeylessAction,"7faa8bb475b36a172a0de85e700f1e126054c1ab93",()=>d.formatMetadataHeaders,"7fbe15cad3a1d51e92fe21855c4fcf4ebb2c6262cd",()=>b.syncKeylessConfigAction,"7fcb61e00348cc2d63111375d9cbb8c1a1c5c1c232",()=>d.collectKeylessMetadata],1659)}];

//# sourceMappingURL=_0506e1b9._.js.map