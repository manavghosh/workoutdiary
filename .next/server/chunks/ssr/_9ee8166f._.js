module.exports=[8041,a=>{"use strict";var b=a.i(37936);a.i(44721);var c=a.i(5246);async function d(){(await (0,c.cookies)()).delete(`__clerk_invalidate_cache_cookie_${Date.now()}`)}(0,a.i(13095).ensureServerEntryExports)([d]),(0,b.registerServerReference)(d,"7f16343f925a7dc420f5d2f74e96c24daab4312757",null),a.s(["invalidateCacheAction",()=>d])},31690,a=>{"use strict";var b=a.i(6616),c=a.i(8041),d=a.i(72364),e=a.i(37936),f=a.i(31352),g=a.i(4851),h=a.i(44959),i=a.i(54056),j=a.i(13095);let k=f.z.object({title:f.z.string().min(1,"Title is required").max(100),notes:f.z.string().optional(),startTime:f.z.string().optional(),workoutDate:f.z.string().min(1,"Date is required")});async function l(a){console.log("Action called with data:",a);try{let b,c=k.parse(a);console.log("Validation passed:",c);let{userId:d}=await (0,h.auth)();if(console.log("User ID:",d),!d)throw Error("User not authenticated");if(c.startTime){let[a,d]=c.startTime.split(":"),[e,f,g]=c.workoutDate.split("-").map(Number);b=new Date(e,f-1,g,parseInt(a),parseInt(d),0,0),console.log("Local timezone components:",{year:e,month:f,day:g,hours:a,minutes:d}),console.log("Created local datetime:",b),console.log("Local datetime ISO:",b.toISOString())}else{let[a,d,e]=c.workoutDate.split("-").map(Number);b=new Date(a,d-1,e,12,0,0,0),console.log("Local date with default time:",b),console.log("Local datetime ISO:",b.toISOString())}console.log("Final datetime for DB (preserves local timezone):",b.toISOString());let e=await (0,g.createWorkout)({userId:d,title:c.title,notes:c.notes,startedAt:b});console.log("Workout created:",e),console.log("Workout startedAt date:",e.startedAt);let f=(0,i.format)(e.startedAt,"yyyy-MM-dd");return console.log("Formatted redirect date:",f),{success:!0,workout:e,redirectDate:f}}catch(b){if(console.error("Error in createWorkoutAction:",b),b instanceof f.z.ZodError)throw console.error("Zod errors:",b.issues),Error(b.issues[0]?.message||"Validation error");let a=b instanceof Error?b.message:"Unknown error";throw console.error("Error message:",a),Error(`Failed to create workout: ${a}`)}}(0,j.ensureServerEntryExports)([l]),(0,e.registerServerReference)(l,"40c2aa7602ab9c2be53c8772ea9ba219b826c73380",null),a.s([],52267),a.i(52267),a.s(["40c2aa7602ab9c2be53c8772ea9ba219b826c73380",()=>l,"7f16343f925a7dc420f5d2f74e96c24daab4312757",()=>c.invalidateCacheAction,"7f26ae897071c7b2f879b1124de58c4ea0f8a28d00",()=>b.createOrReadKeylessAction,"7f578832c69659015ad7d413383873f74b951c7a20",()=>d.formatMetadataHeaders,"7fb4a122d990c917e8464b15accc36aea24208351a",()=>b.detectKeylessEnvDriftAction,"7fddc54dcbf4d7d7896fc22c6314ebf9931a580066",()=>b.deleteKeylessAction,"7fec6adc9fe38b3d738a665b97c8945abed8aa98d8",()=>b.syncKeylessConfigAction,"7ffa10a82acbb0d6f08d92835375c6991dbb8151d9",()=>d.collectKeylessMetadata],31690)}];

//# sourceMappingURL=_9ee8166f._.js.map